{erl_opts, [
    debug_info,
    warn_export_vars,
    warn_shadow_vars,
    warn_obsolete_guard
]}.

{deps, [
    {jsx, "3.1.0"},              % JSON encoding/decoding
    {yamerl, "0.10.0"},          % YAML encoding/decoding
    {cowboy, "2.9.0"},           % For cowboy types
    {trails, "2.3.0"}            % For trails metadata
]}.

{plugins, [
    rebar3_lint,
    rebar3_format
]}.

{provider_hooks, []}.

{shell, [
    {apps, [rebar3_openapi_generator]}
]}.

{profiles, [
    {test, [
        {deps, [
            {proper, "1.4.0"}
        ]}
    ]}
]}.

{elvis, [
    #{
        dirs => ["src"],
        filter => "*.erl",
        ruleset => erl_files,
        rules => [
            {elvis_style, line_length, #{limit => 130}},
            {elvis_style, no_tabs},
            {elvis_style, no_trailing_whitespace},
            {elvis_style, macro_names},
            {elvis_style, operator_spaces, #{rules => [{right, ","}, {right, "++"}, {left, "++"}]}},
            {elvis_style, god_modules, #{limit => 50}},
            {elvis_style, used_ignored_variable},
            {elvis_style, no_behavior_info},
            {elvis_style, module_naming_convention, #{regex => "^[a-z]([a-z0-9]*_?)*$"}},
            {elvis_style, function_naming_convention, #{regex => "^[a-z]([a-z0-9]*_?)*$"}},
            {elvis_style, state_record_and_type},
            {elvis_style, no_spec_with_records}
        ]
    }
]}.
